!function(s){s.fn.player=function(a){function t(a){d.position=Math.min(Math.max(0,a),n.keys.length-1),n.steps.val(n.keys[d.position]),s.isFunction(n.step)&&n.step.call(this,d),n.stepBackwardBtn.removeClass("disabled"),n.fastBackwardBtn.removeClass("disabled"),n.stepForwardBtn.removeClass("disabled"),n.fastForwardBtn.removeClass("disabled"),0===d.position&&(n.stepBackwardBtn.addClass("disabled"),n.fastBackwardBtn.addClass("disabled")),d.position===n.keys.length-1&&(n.stepForwardBtn.addClass("disabled"),n.fastForwardBtn.addClass("disabled"))}var e={keys:[],stepForwardBtn:s(this).find(".player-step-forward").removeClass("disabled").unbind("click"),stepBackwardBtn:s(this).find(".player-step-backward").addClass("disabled").unbind("click"),fastForwardBtn:s(this).find(".player-fast-forward").removeClass("disabled").unbind("click"),fastBackwardBtn:s(this).find(".player-fast-backward").addClass("disabled").unbind("click"),steps:s(this).find(".player-steps").unbind("change"),step:function(s){}},n=s.extend({},e,a),d={position:0};return 0===s(n.steps).children().length&&s.each(n.keys,function(){s("<option />").val(this).text(this).appendTo(n.steps)}),0!==n.keys.length&&(d.position=0,n.steps.val(n.keys[0])),n.steps.on("change",function(s){t(s.target.selectedIndex)}),n.stepForwardBtn.on("click",function(){s(this).hasClass("disabled")||t(d.position+1)}),n.stepBackwardBtn.on("click",function(){s(this).hasClass("disabled")||t(d.position-1)}),n.fastForwardBtn.on("click",function(){s(this).hasClass("disabled")||t(n.keys.length-1)}),n.fastBackwardBtn.on("click",function(){s(this).hasClass("disabled")||t(0)}),this}}(jQuery);