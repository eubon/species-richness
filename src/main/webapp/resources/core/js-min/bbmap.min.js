function clearRectangles(){1===drawnRectangles.length?drawnRectangles[0].setMap(null):drawnRectangles.length>1&&console.log("More than one rectangle in array"),drawnRectangles=[]}function writeBounds(e){$("[id$='bbNorth']").val(e.getBounds().getNorthEast().lat()),$("[id$='bbEast']").val(e.getBounds().getNorthEast().lng()),$("[id$='bbSouth']").val(e.getBounds().getSouthWest().lat()),$("[id$='bbWest']").val(e.getBounds().getSouthWest().lng())}var drawnRectangles=[];$(document).ready(function(){var e=new google.maps.Map($("#map").get(0),{zoom:3,center:{lat:50.5,lng:15},mapTypeId:google.maps.MapTypeId.TERRAIN}),n=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.MARKER,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.BOTTOM_CENTER,drawingModes:[google.maps.drawing.OverlayType.RECTANGLE]},rectangleOptions:{editable:!0,draggable:!0}}),a=new google.maps.Rectangle({bounds:new google.maps.LatLngBounds(new google.maps.LatLng(29,-10),new google.maps.LatLng(72,40)),editable:!0,draggable:!0,map:e});drawnRectangles.push(a),a.addListener("bounds_changed",function(){writeBounds(this)}),n.addListener("rectanglecomplete",function(e){writeBounds(e),clearRectangles(),e.addListener("bounds_changed",function(){writeBounds(this)}),drawnRectangles.push(e)}),n.setMap(e)});